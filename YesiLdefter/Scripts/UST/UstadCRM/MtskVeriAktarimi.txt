
begin transaction

 create table MtskDataTransfer
 (
   Id                    Int IDENTITY(1,1) not null, 
   SourceFirmTypeId      SmallInt          null, /* hangi firmadan aktarılıyor */   
   SourceDataTypeId      SmallInt          null, /* 2. MSSQL Database */

   RankNo                SmallInt          null, 
   SourceTableName       nVarchar(100)     null,
   TargetTableName       nVarchar(100)     null,
   About                 nVarchar(100)     null,

   SourceTableCountSql   nVarchar(max)     null,
   TargetTableCountSql   nVarchar(max)     null,

   SourceDataReadSql     nVarchar(max)     null,
   EditWhereSql          nVarchar(1000)    null,
   LastIdControlSql      nVarchar(1000)    null, 
   IsIdentityInsert      bit               null,
   IsEditScript          bit               null,

   constraint		pk_MtskDataTransfer primary key (Id)
 )
  
 grant select, insert, update, delete on MtskDataTransfer to public

 create index X_MtskDataTransfer01 on MtskDataTransfer ( SourceFirmTypeId, RankNo )

commit transaction


/* kaynak firma : müşteri daha önce hangi programı kullanıyordu */
-- ------------------------------------------------------- 
-- SourceFirmTypeId
-- ------------------------------------------------------- 
create table [Lkp].[MtskDataTransferSourceFirmType]
(
   Id               Int Unique not null, 
   SourceFirmType   nVarchar(50)   null,
   
   constraint  pk_MtskDataTransferSourceFirmType primary key (Id)
)

Delete from [Lkp].[MtskDataTransferSourceFirmType]
INSERT INTO [Lkp].[MtskDataTransferSourceFirmType] (Id, SourceFirmType)
 VALUES 
  ( 0,    N'Firma belli değil'),
  ( 12,   N'Tabim')


/* firmanın aktarılacak datası nereden alındı */
-- ------------------------------------------------------- 
-- SourceDataTypeId
-- ------------------------------------------------------- 
create table [Lkp].[MtskDataTransferSourceDataType]
(
   Id               Int Unique not null, 
   SourceDataType   nVarchar(50)   null,
   
   constraint  pk_MtskDataTransferSourceDataType primary key (Id)
)

Delete from [Lkp].[MtskDataTransferSourceDataType]
INSERT INTO [Lkp].[MtskDataTransferSourceDataType] (Id, SourceDataType)
 VALUES 
  ( 0,   N'Veri kaynağı belli değil'),
  ( 2,   N'MSSQL Database')

