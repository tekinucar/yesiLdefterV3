/*CreateProcedure*/

CREATE PROCEDURE [dbo].[prc_SrcAdayBelgeResimleri] (@TalepId int)  
AS BEGIN
   
--declare @TalepId Int = 200
--declare @DonemTipiId Int = 202101
  declare @AdayId int
  declare @TamAdiSoyadi nvarchar(100)
  declare @TcNo varchar(11)

  Select  
    @AdayId = talep.AdayId
  , @TamAdiSoyadi = aday.TamAdiSoyadi
  , @TcNo = aday.TcNo
  From SrcAdayTalep as talep, SrcAday as aday
  Where talep.AdayId = aday.Id
  and   talep.Id = @TalepId 

  Select 
    Id as Id
  , TamAdiSoyadi, TcNo
  , 'Biyometrik' as LkpImageType
  , 'Biyometrik' as LkpBelgeAdi
  , 'SrcAday' as LkpTableName
  , 'BiyometrikResim' as LkpFieldName
  , 'BiyometrikResimSmall' as LkpSmallFieldName
  , 'Id' as LkpMasterIdValue
  , 'Id' as LkpIdFieldName
  , BiyometrikResim as LkpImage
  , BiyometrikResimSmall as LkpSmallImage
  , 394 as LkpWidth
  , 512 as LkpHeight
  , 400 as LkpDpi
  , 'jpg' as LkpFormat

  From SrcAday
  Where Id = @AdayId
/*
  Union All
  
  Select 
    Id 
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Başvuru' as LkpBelgeAdi
  , 'SrcAdayTalep' as LkpTableName
  , 'BasvuruResim' as LkpFieldName
  , 'BasvuruResimSmall' as LkpSmallFieldName
  , 'Id' as LkpMasterIdValue
  , 'Id' as LkpIdFieldName
  , BasvuruResim as LkpImage
  , BasvuruResimSmall as LkpSmallImage
  , 350 as LkpWidth
  , 450 as LkpHeight
  , 96  as LkpDpi 
  , 'png' as LkpFormat
  
  From SrcAdayTalep
  Where Id = @TalepId
*/
  Union All

  Select 
    AdayId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Kimlik 1' as LkpBelgeAdi
  , 'SrcAdayKimlik' as LkpTableName
  , 'Kimlik1Resim' as LkpFieldName
  , 'Kimlik1ResimSmall' as LkpSmallFieldName
  , 'AdayId' as LkpMasterIdValue
  , 'AdayId' as LkpIdFieldName
  , Kimlik1Resim as LkpImage
  , Kimlik1ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayKimlik
  Where AdayId = @AdayId

  Union All

  Select 
    AdayId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Kimlik 2' as LkpBelgeAdi
  , 'SrcAdayKimlik' as LkpTableName
  , 'Kimlik2Resim' as LkpFieldName
  , 'Kimlik2ResimSmall' as LkpSmallFieldName
  , 'AdayId' as LkpMasterIdValue
  , 'AdayId' as LkpIdFieldName
  , Kimlik2Resim as LkpImage
  , Kimlik2ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayKimlik
  Where AdayId = @AdayId

  Union All

  Select 
    AdayId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Ehliyet 1' as LkpBelgeAdi
  , 'SrcAdayEhliyet' as LkpTableName
  , 'Ehliyet1Resim' as LkpFieldName
  , 'Ehliyet1ResimSmall' as LkpSmallFieldName
  , 'AdayId' as LkpMasterIdValue
  , 'AdayId' as LkpIdFieldName
  , Ehliyet1Resim as LkpImage
  , Ehliyet1ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayEhliyet
  Where AdayId = @AdayId

  Union All

  Select 
    AdayId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Ehliyet 2' as LkpBelgeAdi
  , 'SrcAdayEhliyet' as LkpTableName
  , 'Ehliyet2Resim' as LkpFieldName
  , 'Ehliyet2ResimSmall' as LkpSmallFieldName
  , 'AdayId' as LkpMasterIdValue
  , 'AdayId' as LkpIdFieldName
  , Ehliyet2Resim as LkpImage
  , Ehliyet2ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayEhliyet
  Where AdayId = @AdayId

  Union All
 
  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Öğrenim Belgesi' as LkpBelgeAdi
  , 'SrcAdayOgrenim' as LkpTableName
  , 'OgrenimBelgesiResim' as LkpFieldName
  , 'OgrenimBelgesiResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , OgrenimBelgesiResim as LkpImage
  , OgrenimBelgesiResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi 
  , 'jpg' as LkpFormat
  
  From SrcAdayOgrenim
  Where TalepId = @TalepId
  
  Union All
/*
  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Sağlık Raporu' as LkpBelgeAdi
  , 'SrcAdaySaglik' as LkpTableName
  , 'SaglikRaporuResim' as LkpFieldName
  , 'SaglikRaporuResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , SaglikRaporuResim as LkpImage
  , SaglikRaporuResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdaySaglik
  Where TalepId = @TalepId

  Union All
*/
  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Adli Sicil Raporu' as LkpBelgeAdi
  , 'SrcAdayAdliSicil' as LkpTableName
  , 'SavcilikBelgesiResim' as LkpFieldName
  , 'SavcilikBelgesiResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , SavcilikBelgesiResim as LkpImage
  , SavcilikBelgesiResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayAdliSicil
  Where TalepId = @TalepId


  /*
  Union All

  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'Imza' as LkpImageType
  , 'İmza' as LkpBelgeAdi
  , 'SrcAdayImza' as LkpTableName
  , 'ImzaResim' as LkpFieldName
  , 'ImzaResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , ImzaResim as LkpImage
  , ImzaResimSmall as LkpSmallImage
  , 472 as LkpWidth
  , 472 as LkpHeight
  , 400 as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdayImza
  Where TalepId = @TalepId

  Union All

  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Sözleşme 1' as LkpBelgeAdi
  , 'SrcAdaySozlesme' as LkpTableName
  , 'Sozlesme1Resim' as LkpFieldName
  , 'Sozlesme1ResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , Sozlesme1Resim as LkpImage
  , Sozlesme1ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdaySozlesme
  Where TalepId = @TalepId


  Union All

  Select 
    TalepId as Id
  , @TamAdiSoyadi as TamAdiSoyadi
  , @TcNo as TcNo
  , 'KiloByteKontrollu' as LkpImageType
  , 'Sözleşme 2' as LkpBelgeAdi
  , 'SrcAdaySozlesme' as LkpTableName
  , 'Sozlesme2Resim' as LkpFieldName
  , 'Sozlesme2ResimSmall' as LkpSmallFieldName
  , 'TalepId' as LkpMasterIdValue
  , 'TalepId' as LkpIdFieldName
  , Sozlesme2Resim as LkpImage
  , Sozlesme2ResimSmall as LkpSmallImage
  , 0 as LkpWidth
  , 0 as LkpHeight
  , 96  as LkpDpi  
  , 'jpg' as LkpFormat
  
  From SrcAdaySozlesme
  Where TalepId = @TalepId
  */

END -- procedure

/*CreateProcedureEnd*/

