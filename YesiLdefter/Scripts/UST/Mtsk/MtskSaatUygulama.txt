/*CreateTable*/

begin transaction

 create table MtskSaatUygulama
 (

   Id                     Int IDENTITY(1,1) NOT NULL, 
   FirmId                 Int       not null,
   IsActive               Bit       not null, /* default : 1 = active, 0 = not active */  
   GecerlilikTarihiId     Int       not null,

   /* 0 = normal, 125 = 125 cc altı :  zamanla farklı bir tanımlama gelirse uygun bir EtiketTipiId ekle */
   EtiketTipiId           SmallInt      null,
   MevcutSertifikaTipiId  Int           null,
   IstenenSertifikaTipiId Int           null,

   /* Saatler */  
   SimulatorSaati         smallInt     null,
   UygulamaSaati          smallInt     null,
   UygulamaSaati2016      smallInt     null,

   /* Yaş sınırı  */
   YasSiniri              smallInt     null,

  constraint pk_MtskSaatUygulama primary key (Id)
 )

 create index X_MtskSaatUygulama01 on MtskSaatUygulama (GecerlilikTarihiId, IstenenSertifikaTipiId, MevcutSertifikaTipiId)
 
 grant select, insert, update, delete on MtskSaatUygulama to public

commit transaction

/*CreateTableEnd*/


/*CreateLkpTable*/

begin transaction

-- ------------------------------------------------------- 
-- EtiketTipiId
-- ------------------------------------------------------- 
IF EXISTS (Select * From sys.objects WHERE name = 'MtskSaatUygulamaEtiketTipi')
drop table [Lkp].[MtskSaatUygulamaEtiketTipi]

create table [Lkp].[MtskSaatUygulamaEtiketTipi]
(
   Id               Int Unique not null, 
   EtiketTipi       nVarchar(50)   null,
   GrupTipiId       SmallInt       null,
   
   constraint  pk_MtskSaatUygulamaEtiketTipi primary key (Id)
)

Delete from [Lkp].[MtskSaatUygulamaEtiketTipi]
INSERT INTO [Lkp].[MtskSaatUygulamaetiketTipi] (Id, EtiketTipi, GrupTipiId)
 VALUES 
  ( 0,    N'Normal',0),
  ( 125,  N'A1 125 CC altı', 0)
  
commit transaction

  /*CreateLkpTableEnd*/

